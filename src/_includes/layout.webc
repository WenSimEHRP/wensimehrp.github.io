<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title @text="title || metadata.title"></title>
  <meta name="description" :content="metadata.description">
  <meta name="author" :content="metadata.author.name">
  <meta webc:if="license" name="license" :content="license">
  <link rel="canonical" :href="metadata.url">
  <link href="/css/output.css" rel="stylesheet" webc:keep>

  <!-- WebC CSS Bundle -->
  <style @raw="getBundle('css')" webc:keep></style>
</head>

<body
  class="bg-gray-50 dark:bg-gray-800 text-gray-900 dark:text-gray-100 antialiased min-h-screen flex flex-col transition-colors">
  <header :metadata="metadata"></header>
  <dark-mode-toggle></dark-mode-toggle>

  <!-- Main Content -->
  <main class="flex-1 pb-20">
    <div class="max-w-6xl mx-auto px-6 py-12 flex gap-8">
      <!-- Article Content -->
      <article class="flex-1 max-w-full">
        <div class="prose prose-gray dark:prose-invert max-w-none">
          <h1 @text="title"></h1>
          <page-metadata :created="created" :author="author" :page="page" :metadata="metadata"></page-metadata>
          <p webc:if="description"><i @html="description"></i></p>
          <div webc:if="wip" class="flex items-center gap-3 py-2 px-4">
            <span class="text-sky-600"><i class="fa-solid fa-circle-info"></i></span>
            <span class="text-sm text-gray-500 dark:text-gray-400">
              This article is a work in progress.
            </span>
          </div>
          <div webc:if="license" class="flex items-center gap-3 py-2 px-4">
            <span class="text-red-600"><i class="fa-solid fa-ban"></i></span>
            <span class="text-sm text-gray-500 dark:text-gray-400">
              This article is not licensed under the default license.<br>
              It is instead <span @text="license"></span>.<br>
              Please contact the author for permissions regarding reusing.
            </span>
          </div>
          <div class="[&_p]:text-justify [&_p]:hyphens-auto"><template @raw="content" webc:nokeep></template></div>
        </div>
        <div webc:if="comments ?? true" class="mt-12">
          <script webc:keep src="https://giscus.app/client.js" data-repo="WenSimEHRP/wensimehrp.github.io"
            data-repo-id="R_kgDOPm1f7g" data-category="Announcements" data-category-id="DIC_kwDOPm1f7s4Cu3GK"
            data-mapping="pathname" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0"
            data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async>
            </script>
        </div>
      </article>
      <toc webc:if="toc ?? true"></toc>
    </div>
  </main>

  <floating-footer :author="author" :created="created" :license="license" :metadata="metadata"></floating-footer>
  <stable-footer :author="author" :created="created" :license="license" :metadata="metadata"></stable-footer>
  <toc-script webc:if="toc ?? true"></toc-script>
  <!-- WebC JS Bundle -->
  <script @raw="getBundle('js')" webc:keep></script>
</body>

</html>
